# MyPortfolio
> 태그 기반 포트폴리오 검색 웹 플랫폼

## 배포 링크  
[메인 페이지](https://myportfolio.co.kr/) | [개인 포트폴리오 페이지](https://myportfolio.co.kr/personal/1)

---

## 프로젝트 소개

MyPortfolio는 개인 포트폴리오 사이트로 활용 할 수 있는것을 목표로 하는 사이트 입니다.

태그를 이용한 효율적인 검색과 마크다운으로 글 등록, 실시간 이미지 업로드 등  
사용자 편의성에 중점을 두고 제작하였습니다.

또한 클라우드 인프라(OCI)를 사용하여 서비스를 클라우드 환경에 안정적으로 배포하고,  
CI/CD를 구축하여 빌드 및 배포를 자동화 하였습니다.

(본 README 파일은 Master 브랜치에 작성되었으나, CI/CD 는 Main 브랜치에 진행되었습니다.)

---

## 기술 스택

|      구분      | 기술명/툴                                            |
| :----------: | :------------------------------------------------------|
|  **Backend** | Java, Spring Framework                                 |
| **Frontend** | JSP, JavaScript, JSTL, EL, jQuery                      |
|    **DB**    | MariaDB (MySQL compatible RDBMS)                       |
|    **ORM**   | MyBatis                                                |
| **Infra/배포** | Docker, Docker Compose                               |
|   **클라우드**   | Oracle Cloud Infrastructure (OCI)                  |
|   **CI/CD**  | GitHub Actions (자동 배포), Nginx (Reverse Proxy/HTTPS) |
| **Markdown** | Toast UI Editor                                        |
|    **CDN**   | imgbb(이미지 호스팅/CDN)                                |

---

## 주요 기능

### 포트폴리오 CRUD

- 등록 : Toast UI 에디터로 마크다운 및 커스텀 훅으로 이미지 업로드 지원  
- 보기 : 등록된 포트폴리오를 마크다운 렌더링 방식으로 확인 할 수 있습니다.

### 태그 기반 포트폴리오 검색 및 필터

태그 시스템을 도입하여 포트폴리오 목록에서 원하는 태그로 포트폴리오를 빠르게 검색하거나,  
여러 개의 태그를 조합해 세부적으로 필터링할 수 있습니다.

상세 페이지의 태그 클릭 시 해당 태그를 검색창에 추가합니다.

### 자동 배포 (CI/CD) 파이프라인 구축

GitHub Actions를 활용한 CI/CD 파이프라인을 구축하여,  
코드가 저장소에 Push될 때마다 Docker 기반 자동 빌드 및 배포가 실행됩니다.

### 도메인 연결 + https 적용

Nginx 리버스 프록시 설정을 통해 외부 요청을 안전하게 백엔드로 라우팅하며,  
도메인 연결을 통해 서비스 접근성을 높였습니다.

또한 HTTPS(SSL) 암호화를 적용하여 데이터 전송의 기밀성과 무결성을 강화하고,  
SSL 인증서 자동 갱신 설정을 추가하여 SSL 인증서 유효기간 문제를 해소하였습니다.

---

## 문제 해결 경험

### OCI Instance의 접근 문제

리눅스 서버에서 특정 포트를 리슨 중인 프로세스가 없으면,  
인바운드 규칙이 열려 있어도 접속이 불가한 것은 알고 있었습니다.

그런데 해당 포트를 리슨하고 있는 프로그램이 존재하는데도  
해당 포트로 접속이 불가능 했습니다.

Ingress Rule이 제대로 설정되어 있다는 것은 명확하게 확인했던 시점이었기에,  
다른 방향으로 고민해보게 되었습니다.

#### 문제 가정

Ingress Rule이 제대로 적용이 되지 않았다고 가정해 보았습니다.

Instance에서, 즉 서버가 먼저 연결을 시작하면  
원하는 포트의 세션이 방화벽의 허용된 세션 테이블에 등록되지 않을까?  
라는 생각으로 실행 해 보았습니다.

#### Instance에서 먼저 접근해 보기

http와 https 둘 다를 실험해 보기 위해 둘 다로 Instance에서 접근해 보았습니다.

`curl https://google.com`  
`curl http://google.com`

#### 성공!

Instance 내부에서 먼저 외부로 접근한 포트로는 이제 접근이 가능한 것을 확인 할 수 있었습니다.

이는 OCI의 Ingress Rule이 제대로 적용이 되지 않던가,  
늦게 적용이 되는 것이 문제로 보입니다.

프리 티어라 그런 것인지 OCI가 그런 특성을 지닌 것인지는 확인이 불가능했습니다.  
(이전 Wordpress 사용시에는 괜찮았습니다.)

어쨌든 현재는 외부에서의 접근이 잘 됩니다!


<br>

### Toast UI 이미지 업로드 문제

기존 Toast UI Editor의 이미지 업로드 기능은 이미지를 Base64 인코딩하여  
본문에 직접 넣는 인라인 이미지 방식이었습니다.

때문에 이를 저장하거나 글의 글자수를 제한하는데에 있어서 문제가 있었고,  
이미지 관리의 확장성에도 한계가 있었습니다.

#### 해결

이미지 파일을 외부 CDN(imgbb)에 업로드, 반환된 URL을 에디터에 자동 삽입,  
마크다운 본문에 실시간으로 이미지를 표시하는 커스텀 훅을 제작하여 문제를 해결했습니다.

이를 통해 저장 및 글자 제한의 부담을 줄이고,  
이미지 제공의 확장성과 로딩 속도를 크게 개선할 수 있었습니다.
